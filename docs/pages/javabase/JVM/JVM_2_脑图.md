# JVM知识点全方位梳理

很多知识点，平时在开发中涉及比较少，很容易陷入“背了忘，忘了背，背了再忘，忘了再背”的状态。很大程度是因为没系统学习，没有形成深刻印象。

 本文从7个维度梳理JVM相关知识点，分别是：内存结构、内存回收、 类加载机制、 class文件结、 对象、 内存相关、 JVM调优。

![图片](JVM_2_%E8%84%91%E5%9B%BE.assets/1.JVM7大块.png)

## 一、内存结构

 值得特别说明一下的是方法区属于逻辑概念，在《Java虚拟机规范》中定义了方法区的概念与作用。HotSpot在JDK8之前用永久代来实现，之后引入了元空间。

![内存结构](JVM_2_%E8%84%91%E5%9B%BE.assets/2.%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84.png)

## 二、内存回收

 GC ROOT有哪些？

 CMS存会产生空间碎片，浮动垃圾无法处理。

![内存回收](JVM_2_%E8%84%91%E5%9B%BE.assets/3.%E5%86%85%E5%AD%98%E5%9B%9E%E6%94%B6.png)

## 三、类加载机制

 重点需要理解类生命周期每个环节所做的事情。

 容易忽略的是如何破坏双亲委派机制。

![4.类加载机制](JVM_2_%E8%84%91%E5%9B%BE.assets/4.%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6.png)

## 四、Class文件结构

![5.class文件结构](JVM_2_%E8%84%91%E5%9B%BE.assets/5.class%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84.png)

## 五、对象

 容易忽略点有栈上也可以分配内存给对象，但需要经过逃逸分析

![6.对象](JVM_2_%E8%84%91%E5%9B%BE.assets/6.%E5%AF%B9%E8%B1%A1.png)

## 六、内存相关

 内存溢出与内存泄漏的定义。

 GC触发条件。

![7.内存相关](JVM_2_%E8%84%91%E5%9B%BE.assets/7.%E5%86%85%E5%AD%98%E7%9B%B8%E5%85%B3.png)

## 七、JVM调优

 重点：GC健康指标。

![8.JVM调优](JVM_2_%E8%84%91%E5%9B%BE.assets/8.JVM%E8%B0%83%E4%BC%98.png)